version: 2

models:
  - name: oliver_dim_customer
    description: "Oliver's Sweets customer dimension"
    columns:
      - name: customer_id
        tests:
          - unique

  - name: oliver_dim_employee
    description: "Oliver's Sweets employee dimension"
    columns:
      - name: employee_id
        tests:
          - not_null

  - name: oliver_dim_store
    description: "Oliver's Sweets store dimension"
    columns:
      - name: store_name
        tests:
          - accepted_values:
              arguments:
                values:
                  - "Franks Corner"
                  - "North Skagway"
                  - "East Gilbert"

  - name: fact_sales
    description: "Oliver's Sweets sales fact"
    columns:
      - name: customer_key
        tests:
          - relationships:
              to: ref('oliver_dim_customer')
              field: customer_key
